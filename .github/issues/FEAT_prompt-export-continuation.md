---
github_issue: 48
title: "Session Export for Chat Continuation"
labels:
  - enhancement
  - ai-workflow
  - protocol
assignees: []
protocol_version: 1.3.0
---
github_issue: 48

## üìã Feature Request

Enable agents to export chat session context as `.md` files for continuation in new chat windows.

## üéØ Problem Statement

When switching chat windows or starting new sessions, agents lose context. Currently there's no way to:

1. Export current session state
2. Load that state in a new session
3. Continue work seamlessly

## üî¨ VS Code API Research

### Available APIs

| API | Capability | Usable? |
|-----|------------|---------|
| `stream.button()` | Add clickable buttons to chat responses | ‚úÖ Yes |
| `context.history` | Access chat message history | ‚úÖ Yes |
| `vscode.workspace.fs.writeFile()` | Create files programmatically | ‚úÖ Yes |
| Auto-insert into chat input | N/A | ‚ùå Not available |
| Restore chat history | N/A | ‚ùå Not available |

### Key Finding

VS Code **does NOT provide an API** to programmatically insert text into the chat input field or restore chat history in a new window.

## ‚úÖ Proposed Solution

### Workflow

1. **Agent generates prompt** with current context
2. **Script saves** to `docs/prompts/SESSION_{date}_{topic}.md`
3. **User manually references** with `#file:docs/prompts/SESSION_xxx.md`
4. **New agent loads** full context from the file

### Implementation

1. **Update Protocol Rules**: Add exception for `docs/prompts/*.md`
2. **Create Export Script**: `scripts/export-session.ps1`
3. **Add Documentation**: `docs/prompts/README.md`

## üìÅ Files to Modify

- `AGENTS.md` - Add exception for docs/prompts/*.md
- `.github/copilot-instructions.md` - Same exception
- `scripts/export-session.ps1` - New script
- `docs/prompts/README.md` - New documentation

## üîí Safeguards

| Rule | Description |
|------|-------------|
| **MUST** be generated by script | Prevents manual .md creation |
| **MUST** follow naming convention | `SESSION_{date}_{topic}.md` |
| **SHOULD** be deleted after use | Not permanent documentation |
| **CANNOT** be manually created | Script enforces structure |

## üìé Related

- VS Code Chat API: <https://code.visualstudio.com/api/extension-guides/chat>
- Git-Core Protocol rules: AGENTS.md
